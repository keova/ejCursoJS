<!-- Tenemos una imagen donde se mostraran dos imagenes (iguales pero con distinto color) y cuatro botones
    botón 1 - de un color y que muestra la imagen de ese color
    botón 2 - de otro color y que muestra la imagen de ese color
    botón 3 - play - hace un slide con las dos imagenes para que vayan pasando de una a otra
    botón 4 - stop - para el slide  
-->
<html>
   <head>
        <title>Slider</title>
        <script language="javascript">
            // Constantes
            const DIRECTORIO_IMG = "img/10/";
            // Variables globales
            var camisetas = new Array();
            var idIntervalo;
            // Definición del objeto ImagenColor
            function ImagenColor(color, imagen) {
                this.color = color;
                this.imagen = imagen;
            }

            window.onload = function () {
                // Carga de datos de imagenes
                cargarDatosImagenes();
                // cargamos una imagen por defecto (usamos la primera del array)
                document.getElementById("fotito").src = DIRECTORIO_IMG + camisetas[0].imagen;
                // creamos los botones para cada color
                document.getElementById("color1").onclick = cambiarFoto1;
                
                // añadimos eventos a los botones play y stop
                document.getElementById("play").onclick = iniciarSlide;
                document.getElementById("stop").onclick = pararSlide;
            }

            function cargarDatosImagenes() {
                // cargamos el array con los objetos de tipo imagenes del slide
                // Gris
                camisetas.push(new ImagenColor("gris","camisetaGris.jpeg"));
                // Azul
                camisetas.push(new ImagenColor("azul","camisetaAzul.jpeg"));
                // Rosa
                camisetas.push(new ImagenColor("rosa","camisetaRosa.jpeg"));
            }

            function cargarBotonesColores() {
                var contenedor = document.getElementById("botones");
                var boton;
                for (var i = 0; i < camisetas.length; i++) {
                    boton = document.createElement("BUTTON");
                    boton.id = "boton" + i;
                    
                }

            }

            function cambiarFoto1() {
                cambiarImagen(IMG1);
            }

            function cambiarFoto2() {
                cambiarImagen(IMG2);
            }

            function cambiarImagen(imagen){
                document.getElementById("fotito").src = DIRECTORIO_IMG + imagen;
            }

            function iniciarSlide() {

                idIntervalo = window.setInterval(mostrarSiguienteImagen, 3000);
            }

            function mostrarSiguienteImagen() {
                var imagenSiguiente;
                var posNombreImagen;
                // Obtenemos la imagen que se esta viendo
                var imagenActual = document.getElementById("fotito").src;
                posNombreImagen = imagenActual.indexOf(DIRECTORIO_IMG) + DIRECTORIO_IMG.length;
                imagenActual = imagenActual.substring(posNombreImagen);
                console.log("imagen actual" + imagenActual);

                if (imagenActual == IMG1) {
                    imagenSiguiente = IMG2;
                } else  {
                    imagenSiguiente = IMG1
                }

                cambiarImagen(imagenSiguiente);

            }

            function pararSlide() {
                window.clearInterval(idIntervalo);
            }
        </script>
   </head>
   <body>
        <img id="fotito">
        <div id="botones">        
            <button id="color1">Color Azul</button>
            <button id="color2">color Gris</button>
            <button id="play">Play</button>
            <button id="stop">Stop</button>
        </div>
   </body>
</html>

